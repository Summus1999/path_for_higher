# 堆/栈

## Easy

#### 20.有效的括号

```c++
class Solution {
public:
    bool isValid(string s) {
        // 长度为奇数必然无效
        if (s.size() % 2) {
            return false;
        }
        stack<char> st;
        // 使用哈希映射存储括号对
        for (auto cur : s) {
            // 如果是左括号就将右括号入栈
            if (cur == '[') {
                st.push(']');
            } else if (cur == '(') {
                st.push(')');
            } else if (cur == '{') {
                st.push('}');
            } else {
                if (st.empty() || cur != st.top()) {
                    return false;
                }
                st.pop();
            }
        }
        return st.empty();
    }
};
```



## Medium

## Hard

#### 85.最大矩形

```c++
class Solution {
public:
    int maximalRectangle(vector<vector<char>>& matrix) {
        int m = matrix.size();
        int n = matrix[0].size();
        int ans = 0;
        vector<int> heights(n, 0);
        for (int i = 0; i < m; ++i) {
            // 更新当前行的 heights 数组
            for (int j = 0; j < n; ++j) {
                if (matrix[i][j] == '1') {
                    heights[j]++;
                } else {
                    // 遇到'0'，高度归零
                    heights[j] = 0;
                }
            }
            // 使用单调栈,计算最大矩形面积
            stack<int> stk;
            vector<int> left_boundaries(n, -1);
            vector<int> right_boundaries(n, n);
            for (int j = 0; j < n; ++j) {
                while (!stk.empty() && heights[stk.top()] >= heights[j]) {
                    right_boundaries[stk.top()] = j;
                    stk.pop();
                }
                if (!stk.empty()) {
                    left_boundaries[j] = stk.top();
                }
                stk.push(j);
            }
            // 计算当前行对应的最大面积
            for (int j = 0; j < n; ++j) {
                int width = right_boundaries[j] - left_boundaries[j] - 1;
                int area = heights[j] * width;
                ans = max(ans, area);
            }
        }
        return ans;
    }
};
```

